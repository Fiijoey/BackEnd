<div class="register-container">
  <h1><%= title %></h1>
  
  <% if (messages() && messages().error) { %>
    <div class="flash-message error">
      <%= messages().error %>
    </div>
  <% } %>
  
  <form method="POST" action="/account/register">
    <div class="form-group">
      <label for="firstname">First Name:</label>
      <input type="text" id="firstname" name="firstname" required value="<%= locals.firstname || '' %>">
    </div>
    <div class="form-group">
      <label for="lastname">Last Name:</label>
      <input type="text" id="lastname" name="lastname" required value="<%= locals.lastname || '' %>">
    </div>
    <div class="form-group">
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="email" required value="<%= locals.email || '' %>">
    </div>
    <div class="form-group">
      <label for="password">Password:</label>
      <div class="password-container">
        <input type="password" id="password" name="password" required pattern="^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*()_+\-=[\]{};':\\|,.<>\/?]).{12,}$">
        <button type="button" id="togglePassword" class="toggle-password">Show</button>
      </div>
      <div class="password-requirements">
        <p>Password must be:</p>
        <ul>
          <li>At least 12 characters long</li>
          <li>Contain at least 1 capital letter</li>
          <li>Contain at least 1 number</li>
          <li>Contain at least 1 special character</li>
        </ul>
      </div>
    </div>
    <div class="form-group">
      <button type="submit">Register</button>
    </div>
  </form>
  <p>Already have an account? <a href="/account/login">Login Here</a></p>
</div>

<script>
  document.getElementById('togglePassword').addEventListener('click', function() {
    const passwordInput = document.getElementById('password');
    const toggleButton = document.getElementById('togglePassword');
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      toggleButton.textContent = 'Hide';
    } else {
      passwordInput.type = 'password';
      toggleButton.textContent = 'Show';
    }
  });
</script>

<style>
  .register-container { max-width: 600px; margin: 0 auto; padding: 20px; }
  .form-group { margin-bottom: 15px; }
  .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
  .form-group input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
  .password-container { display: flex; align-items: center; }
  .toggle-password { margin-left: 10px; padding: 5px 10px; background-color: #f0f0f0; border: 1px solid #ccc; border-radius: 4px; cursor: pointer; }
  .password-requirements { margin-top: 10px; font-size: 0.9em; color: #666; }
  .password-requirements ul { padding-left: 20px; }
  .flash-message { padding: 10px; margin-bottom: 15px; border-radius: 4px; }
  .flash-message.error { background-color: #ffebee; color: #c62828; border: 1px solid #ef9a9a; }
  button[type="submit"] { padding: 10px 15px; background-color: #4caf50; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; }
  button[type="submit"]:hover { background-color: #45a049; }
</style>
